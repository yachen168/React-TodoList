(this["webpackJsonpreact.js"]=this["webpackJsonpreact.js"]||[]).push([[0],{20:function(e,t,a){},26:function(e,t,a){},27:function(e,t,a){},28:function(e,t,a){},29:function(e,t,a){},30:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var c=a(0),s=a(1),n=a.n(s),o=a(14),d=a.n(o),i=a(6),j=(a(20),[{title:"My Tasks",status:"all"},{title:"In progress",status:"inProgress"},{title:"Completed",status:"completed"}]),l=function(){var e=Object(s.useContext)(T),t=e.state,a=e.dispatch,n=function(e){return function(){a({type:"SWITCH_TODO",payload:e.status})}};return Object(c.jsx)("header",{children:Object(c.jsx)("nav",{children:Object(c.jsx)("ul",{children:j.map((function(e){return Object(c.jsx)("li",{className:"nav-item ".concat(t.status===e.status?"active":""),onClick:n(e),children:e.title},e.status)}))})})})},r=a(7),b=a(3),O=a(4),u=a(5);a(26);function m(e,t){return Object(s.useCallback)((function(a){a.preventDefault(),t?e():alert("\u8acb\u8f38\u5165\u4ee3\u8fa6\u4e8b\u9805\u540d\u7a31")}))}var p={todoTitle:"",todoComment:"",todoDate:"",todoTime:"",isStarred:!1,isCompleted:!1,isEditing:!1},x=function(){var e=Object(s.useContext)(T).dispatch,t=Object(s.useState)(p),a=Object(i.a)(t,2),n=a[0],o=a[1],d=Object(s.useState)(!1),j=Object(i.a)(d,2),l=j[0],x=j[1],h=function(e){e.preventDefault(),x(!l),o(p)},f=function(e){var t=e.currentTarget.dataset.name;o("isStarred"===t||"isCompleted"===t?Object(b.a)(Object(b.a)({},n),{},Object(r.a)({},t,!n[t])):Object(b.a)(Object(b.a)({},n),{},Object(r.a)({},t,e.target.value)))},N=m(h,n.todoTitle);return Object(c.jsxs)("section",{className:"new-todo",children:[Object(c.jsx)("button",{className:"add-todo",onClick:h,children:"+ Add Task"}),Object(c.jsxs)("form",{className:"edit-area new-todo-edit-area ".concat(l?"active":""),onSubmit:N,children:[Object(c.jsxs)("div",{className:"todo-bar ".concat(n.isStarred?"active":""),children:[Object(c.jsxs)("label",{className:"todo-title",children:[Object(c.jsx)("input",{className:"checkbox",type:"checkbox","data-name":"isCompleted",checked:n.isCompleted,onChange:f}),Object(c.jsx)("input",{className:"todo-name new-todo-name",type:"text",placeholder:"Type Something Here\u2026","data-name":"todoTitle",value:n.todoTitle,onChange:f})]}),Object(c.jsxs)("div",{className:"icon-wrapper",children:[Object(c.jsx)("span",{className:"star","data-name":"isStarred",onClick:f,children:Object(c.jsx)(O.a,{icon:u.f})}),Object(c.jsx)("span",{className:"pen new-pen",children:Object(c.jsx)(O.a,{icon:u.d})})]})]}),Object(c.jsxs)("div",{className:"card",children:[Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("div",{className:"deadline",children:[Object(c.jsxs)("h3",{className:"icon",children:[Object(c.jsx)(O.a,{icon:u.a}),"Deadline"]}),Object(c.jsxs)("div",{className:"input-wrapper",children:[Object(c.jsx)("input",{className:"new-date",type:"date","data-name":"todoDate",onChange:f}),Object(c.jsx)("input",{className:"new-time",type:"time","data-name":"todoTime",onChange:f})]})]}),Object(c.jsxs)("div",{className:"file",children:[Object(c.jsxs)("h3",{children:[Object(c.jsx)(O.a,{icon:u.c}),"File"]}),Object(c.jsxs)("label",{className:"upload",children:[Object(c.jsx)("input",{className:"upload-input",type:"file"}),Object(c.jsx)("span",{className:"upload-icon",children:"+"})]})]}),Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsxs)("h3",{children:[Object(c.jsx)(O.a,{icon:u.b}),"Comment"]}),Object(c.jsx)("textarea",{className:"add-comment",placeholder:"Type your memo here...","data-name":"todoComment",value:n.todoComment,onChange:f})]})]}),Object(c.jsxs)("div",{className:"card-footer new-card-footer",children:[Object(c.jsxs)("button",{type:"submit",className:"button-cancel new-button-cancel",onClick:h,children:["\b",Object(c.jsx)(O.a,{icon:u.g}),"Cancel"]}),Object(c.jsxs)("button",{className:"button-confirm new-button-confirm",onClick:function(){return e({type:"ADD_TODO",payload:Object(b.a)(Object(b.a)({},n),{},{todoId:Date.now()})})},children:[Object(c.jsx)(O.a,{icon:u.e}),"Add Task"]})]})]})]})]})},h=(a(27),function(e){var t=e.todo,a=Object(s.useContext)(T).dispatch,n=Object(s.useState)(Object(b.a)({},t)),o=Object(i.a)(n,2),d=o[0],j=o[1],l=Object(s.useState)(!1),p=Object(i.a)(l,2),x=p[0],h=p[1],f=function(e){var t=e.currentTarget.dataset.name;j(Object(b.a)(Object(b.a)({},d),{},Object(r.a)({},t,e.target.value)))},N=function(){h(!x)},v=m(N,d.todoTitle);return Object(c.jsxs)("form",{className:"edit-area ".concat(x?"active":""),onSubmit:v,children:[Object(c.jsxs)("div",{className:"todo-bar ".concat(t.isStarred?"active":""),children:[Object(c.jsxs)("div",{className:"hover-dots",children:[Object(c.jsx)("span",{children:"\u2219"}),Object(c.jsx)("span",{children:"\u2219"}),Object(c.jsx)("span",{children:"\u2219"})]}),Object(c.jsxs)("label",{className:"todo-title",children:[Object(c.jsx)("input",{className:"checkbox",type:"checkbox",checked:t.isCompleted,onChange:function(){return a({type:"COMPLETE_TODO",payload:{todo:t}})}}),Object(c.jsx)("input",{className:"todo-name",type:"text",placeholder:"Type Something Here\u2026",value:d.todoTitle,"data-name":"todoTitle",onChange:f})]}),Object(c.jsxs)("div",{className:"icon-wrapper",children:[Object(c.jsx)("span",{className:"star",onClick:function(){return a({type:"STAR_TODO",payload:{todo:t}})},children:Object(c.jsx)(O.a,{icon:u.f})}),Object(c.jsx)("span",{className:"pen",onClick:N,children:Object(c.jsx)(O.a,{icon:u.d})}),Object(c.jsx)("span",{className:"delete",onClick:function(){return a({type:"DELETE_TODO",payload:{todo:d}})},children:Object(c.jsx)(O.a,{icon:u.h})})]}),Object(c.jsxs)("div",{className:"hint-icons",children:[Object(c.jsxs)("span",{children:[Object(c.jsx)(O.a,{icon:u.a,className:"".concat(d.todoDate?"active":"")}),Object(c.jsx)("span",{className:"hint-date",children:t.todoDate.split("-").join("/")})]}),Object(c.jsx)(O.a,{icon:u.c}),Object(c.jsx)(O.a,{icon:u.b,className:d.todoComment?"active":""})]})]}),Object(c.jsxs)("div",{className:"card",children:[Object(c.jsxs)("div",{className:"card-body",children:[Object(c.jsxs)("div",{className:"deadline",children:[Object(c.jsxs)("h3",{children:[Object(c.jsx)(O.a,{icon:u.a}),"Deadline"]}),Object(c.jsxs)("div",{className:"input-wrapper",children:[Object(c.jsx)("input",{className:"date",type:"date","data-name":"todoDate",value:d.todoDate,onChange:f}),Object(c.jsx)("input",{className:"time",type:"time","data-name":"todoTime",value:d.todoTime,onChange:f})]})]}),Object(c.jsxs)("div",{className:"file",children:[Object(c.jsxs)("h3",{children:[Object(c.jsx)(O.a,{icon:u.c}),"File"]}),Object(c.jsxs)("label",{className:"upload",children:[Object(c.jsx)("input",{className:"upload-input",type:"file"}),Object(c.jsx)("span",{className:"upload-icon",children:"+"})]})]}),Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsxs)("h3",{children:[Object(c.jsx)("i",{className:"far fa-comment-dots"}),"Comment"]}),Object(c.jsx)("textarea",{className:"comment-content",placeholder:"Type your memo here...","data-name":"todoComment",value:d.todoComment,onChange:f})]})]}),Object(c.jsxs)("div",{className:"card-footer",children:[Object(c.jsxs)("button",{type:"submit",className:"button-cancel",onClick:function(){return j(t)},children:["\b",Object(c.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),Object(c.jsxs)("button",{type:"submit",className:"button-confirm",onClick:function(){return a({type:"EDIT_TODO",payload:{todo:d}})},children:[Object(c.jsx)(O.a,{icon:u.e}),"Save"]})]})]})]})}),f=(a(28),function(){var e=Object(s.useContext)(T).state,t=e.todos,a=e.status;return Object(c.jsx)("section",{className:"todo-list",children:function(e,t){return e.filter((function(e){return"all"===t||("inProgress"===t?!e.isCompleted:"completed"===t?e.isCompleted:void 0)}))}(t,a).map((function(e){return Object(c.jsx)(h,{todo:e},e.todoId)}))})}),N=(a(29),function(){var e=Object(s.useContext)(T).state,t=e.todos.filter((function(e){return!e.isCompleted})).length,a=e.todos.length-t;return"completed"!==e.status?Object(c.jsxs)("footer",{children:[Object(c.jsxs)("h4",{className:"todo-count ",children:[t," ",Object(c.jsx)("span",{children:t>1?"tasks":"task"})," left"]}),Object(c.jsx)("p",{className:"hint",children:"\u9ede\u64ca \u2606 \u4efb\u52d9\u7f6e\u9802\uff0c\u4efb\u52d9\u5b8c\u6210\u7f6e\u5e95"})]}):Object(c.jsxs)("footer",{children:[Object(c.jsxs)("h4",{className:"todo-count",children:[a," ",Object(c.jsx)("span",{children:a>1?"tasks":"task"})," completed"]}),Object(c.jsx)("p",{className:"hint",children:"\u9ede\u64ca \u2606 \u4efb\u52d9\u7f6e\u9802\uff0c\u4efb\u52d9\u5b8c\u6210\u7f6e\u5e95"})]})}),v=a(10),C=function(e){return Object(v.a)(e).sort((function(e,t){return(e.isStarred?100:0)+(e.isCompleted?-200:0)-((t.isStarred?100:0)+(t.isCompleted?-200:0))}))},y=function(e,t){switch(t.type){case"ADD_TODO":return Object(b.a)(Object(b.a)({},e),{},{todos:C([].concat(Object(v.a)(e.todos),[t.payload]))});case"DELETE_TODO":var a=e.todos.filter((function(e){return e.todoId!==t.payload.todo.todoId}));return Object(b.a)(Object(b.a)({},e),{},{todos:a});case"EDIT_TODO":var c=e.todos.findIndex((function(e){return e.todoId===t.payload.todo.todoId}));return e.todos[c]=t.payload.todo,Object(b.a)({},e);case"STAR_TODO":var s=e.todos.findIndex((function(e){return e.todoId===t.payload.todo.todoId})),n=Object(v.a)(e.todos);return n[s]=Object(b.a)(Object(b.a)({},n[s]),{},{isStarred:!n[s].isStarred}),Object(b.a)(Object(b.a)({},e),{},{todos:C(n)});case"COMPLETE_TODO":var o=e.todos.findIndex((function(e){return e.todoId===t.payload.todo.todoId})),d=Object(v.a)(e.todos);return d[o]=Object(b.a)(Object(b.a)({},d[o]),{},{isCompleted:!d[o].isCompleted}),Object(b.a)(Object(b.a)({},e),{},{todos:C(d)});case"SWITCH_TODO":return Object(b.a)(Object(b.a)({},e),{},{status:t.payload});default:return e}},T=Object(s.createContext)(),D={todos:JSON.parse(localStorage.getItem("react-todo"))||[],status:"all"},g=function(){var e=Object(s.useReducer)(y,D),t=Object(i.a)(e,2),a=t[0],n=t[1],o=Object(s.useState)("all"),d=Object(i.a)(o,2);d[0],d[1];Object(s.useEffect)((function(){j()}),[a.todos]);var j=function(){window.localStorage.setItem("react-todo",JSON.stringify(a.todos))};return Object(c.jsx)(T.Provider,{value:{state:a,dispatch:n},children:Object(c.jsxs)("div",{className:"App",children:[Object(c.jsx)(l,{}),Object(c.jsxs)("main",{children:[Object(c.jsx)(x,{}),Object(c.jsx)(f,{})]}),Object(c.jsx)(N,{})]})})};a(30);d.a.render(Object(c.jsx)(n.a.StrictMode,{children:Object(c.jsx)(g,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.ff224462.chunk.js.map