(this["webpackJsonpreact.js"]=this["webpackJsonpreact.js"]||[]).push([[0],{20:function(e,t,c){},26:function(e,t,c){},27:function(e,t,c){},28:function(e,t,c){},29:function(e,t,c){},30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var a=c(0),s=c(3),n=c.n(s),o=c(14),d=c.n(o),i=c(6),j=(c(20),[{title:"My Tasks",status:"all"},{title:"In progress",status:"inProgress"},{title:"Completed",status:"completed"}]),l=function(){var e=Object(s.useContext)(T),t=e.state,c=e.dispatch,n=function(e){return function(){c({type:"SWITCH_TODO",payload:e.status})}};return Object(a.jsx)("header",{children:Object(a.jsx)("nav",{children:Object(a.jsx)("ul",{children:j.map((function(e){return Object(a.jsx)("li",{className:"nav-item ".concat(t.status===e.status?"active":""),onClick:n(e),children:e.title},e.status)}))})})})},r=c(7),b=c(1),O=c(4),m=c(5);c(26);function u(e,t){return Object(s.useCallback)((function(c){c.preventDefault(),t?e():alert("\u8acb\u8f38\u5165\u4ee3\u8fa6\u4e8b\u9805\u540d\u7a31")}))}var p={todoTitle:"",todoComment:"",todoDate:"",todoTime:"",isStarred:!1,isCompleted:!1,isEditing:!1},x=function(){var e=Object(s.useContext)(T).dispatch,t=Object(s.useState)(p),c=Object(i.a)(t,2),n=c[0],o=c[1],d=Object(s.useState)(!1),j=Object(i.a)(d,2),l=j[0],x=j[1],h=function(e){var t=e.currentTarget.dataset.name;o("isStarred"===t||"isCompleted"===t?Object(b.a)(Object(b.a)({},n),{},Object(r.a)({},t,!n[t])):Object(b.a)(Object(b.a)({},n),{},Object(r.a)({},t,e.target.value)))},f=u((function(){e({type:"ADD_TODO",payload:Object(b.a)(Object(b.a)({},n),{},{todoId:Date.now()})}),x(!l),o(p)}),n.todoTitle);return Object(a.jsxs)("section",{className:"new-todo",children:[Object(a.jsx)("button",{className:"add-todo",onClick:function(){return x(!l)},children:"+ Add Task"}),Object(a.jsxs)("form",{className:"edit-area new-todo-edit-area ".concat(l?"active":""),onSubmit:f,children:[Object(a.jsxs)("div",{className:"todo-bar ".concat(n.isStarred?"active":""),children:[Object(a.jsxs)("label",{className:"todo-title",children:[Object(a.jsx)("input",{className:"checkbox",type:"checkbox","data-name":"isCompleted",checked:n.isCompleted,onChange:h}),Object(a.jsx)("input",{className:"todo-name new-todo-name",type:"text",placeholder:"Type Something Here\u2026","data-name":"todoTitle",value:n.todoTitle,onChange:h})]}),Object(a.jsxs)("div",{className:"icon-wrapper",children:[Object(a.jsx)("span",{className:"star","data-name":"isStarred",onClick:h,children:Object(a.jsx)(O.a,{icon:m.f})}),Object(a.jsx)("span",{className:"pen new-pen",children:Object(a.jsx)(O.a,{icon:m.d})})]})]}),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"deadline",children:[Object(a.jsxs)("h3",{className:"icon",children:[Object(a.jsx)(O.a,{icon:m.a}),"Deadline"]}),Object(a.jsxs)("div",{className:"input-wrapper",children:[Object(a.jsx)("input",{className:"new-date",type:"date","data-name":"todoDate",onChange:h}),Object(a.jsx)("input",{className:"new-time",type:"time","data-name":"todoTime",onChange:h})]})]}),Object(a.jsxs)("div",{className:"file",children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)(O.a,{icon:m.c}),"File"]}),Object(a.jsxs)("label",{className:"upload",children:[Object(a.jsx)("input",{className:"upload-input",type:"file"}),Object(a.jsx)("span",{className:"upload-icon",children:"+"})]})]}),Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)(O.a,{icon:m.b}),"Comment"]}),Object(a.jsx)("textarea",{className:"add-comment",placeholder:"Type your memo here...","data-name":"todoComment",value:n.todoComment,onChange:h})]})]}),Object(a.jsxs)("div",{className:"card-footer new-card-footer",children:[Object(a.jsxs)("button",{type:"reset",className:"button-cancel new-button-cancel",onClick:function(){x(!l),o(p)},children:["\b",Object(a.jsx)(O.a,{icon:m.g}),"Cancel"]}),Object(a.jsxs)("button",{className:"button-confirm new-button-confirm",onClick:f,children:[Object(a.jsx)(O.a,{icon:m.e}),"Add Task"]})]})]})]})]})},h=(c(27),function(e){var t=e.todo,c=Object(s.useContext)(T).dispatch,n=Object(s.useState)(Object(b.a)({},t)),o=Object(i.a)(n,2),d=o[0],j=o[1],l=Object(s.useState)(!1),p=Object(i.a)(l,2),x=p[0],h=p[1],f=function(e){var t=e.currentTarget.dataset.name;j(Object(b.a)(Object(b.a)({},d),{},Object(r.a)({},t,e.target.value)))},N=u((function(){c({type:"EDIT_TODO",payload:{todo:d}}),h(!x)}),d.todoTitle);return Object(a.jsxs)("form",{className:"edit-area ".concat(x?"active":""),onSubmit:N,children:[Object(a.jsxs)("div",{className:"todo-bar ".concat(t.isStarred?"active":""),children:[Object(a.jsxs)("div",{className:"hover-dots",children:[Object(a.jsx)("span",{children:"\u2219"}),Object(a.jsx)("span",{children:"\u2219"}),Object(a.jsx)("span",{children:"\u2219"})]}),Object(a.jsxs)("label",{className:"todo-title",children:[Object(a.jsx)("input",{className:"checkbox",type:"checkbox",checked:t.isCompleted,onChange:function(){return c({type:"COMPLETE_TODO",payload:{todo:t}})}}),Object(a.jsx)("input",{className:"todo-name",type:"text",placeholder:"Type Something Here\u2026",value:d.todoTitle,"data-name":"todoTitle",onChange:f})]}),Object(a.jsxs)("div",{className:"icon-wrapper",children:[Object(a.jsx)("span",{className:"star",onClick:function(){return c({type:"STAR_TODO",payload:{todo:t}})},children:Object(a.jsx)(O.a,{icon:m.f})}),Object(a.jsx)("span",{className:"pen",onClick:function(){return h(!x)},children:Object(a.jsx)(O.a,{icon:m.d})}),Object(a.jsx)("span",{className:"delete",onClick:function(){return c({type:"DELETE_TODO",payload:{todo:d}})},children:Object(a.jsx)(O.a,{icon:m.h})})]}),Object(a.jsxs)("div",{className:"hint-icons",children:[Object(a.jsxs)("span",{children:[Object(a.jsx)(O.a,{icon:m.a,className:"".concat(d.todoDate?"active":"")}),Object(a.jsx)("span",{className:"hint-date",children:t.todoDate.split("-").join("/")})]}),Object(a.jsx)(O.a,{icon:m.c}),Object(a.jsx)(O.a,{icon:m.b,className:d.todoComment?"active":""})]})]}),Object(a.jsxs)("div",{className:"card",children:[Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsxs)("div",{className:"deadline",children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)(O.a,{icon:m.a}),"Deadline"]}),Object(a.jsxs)("div",{className:"input-wrapper",children:[Object(a.jsx)("input",{className:"date",type:"date","data-name":"todoDate",value:d.todoDate,onChange:f}),Object(a.jsx)("input",{className:"time",type:"time","data-name":"todoTime",value:d.todoTime,onChange:f})]})]}),Object(a.jsxs)("div",{className:"file",children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)(O.a,{icon:m.c}),"File"]}),Object(a.jsxs)("label",{className:"upload",children:[Object(a.jsx)("input",{className:"upload-input",type:"file"}),Object(a.jsx)("span",{className:"upload-icon",children:"+"})]})]}),Object(a.jsxs)("div",{className:"comment",children:[Object(a.jsxs)("h3",{children:[Object(a.jsx)("i",{className:"far fa-comment-dots"}),"Comment"]}),Object(a.jsx)("textarea",{className:"comment-content",placeholder:"Type your memo here...","data-name":"todoComment",value:d.todoComment,onChange:f})]})]}),Object(a.jsxs)("div",{className:"card-footer",children:[Object(a.jsxs)("button",{type:"reset",className:"button-cancel",onClick:function(){h(!x),j(t)},children:["\b",Object(a.jsx)("i",{className:"fas fa-times"}),"Cancel"]}),Object(a.jsxs)("button",{type:"submit",className:"button-confirm",onClick:N,children:[Object(a.jsx)(O.a,{icon:m.e}),"Save"]})]})]})]})}),f=(c(28),function(){var e=Object(s.useContext)(T).state,t=e.todos,c=e.status;return Object(a.jsx)("section",{className:"todo-list",children:function(e,t){return e.filter((function(e){return"all"===t||("inProgress"===t?!e.isCompleted:"completed"===t?e.isCompleted:void 0)}))}(t,c).map((function(e){return Object(a.jsx)(h,{todo:e},e.todoId)}))})}),N=(c(29),function(){var e=Object(s.useContext)(T).state,t=e.todos.filter((function(e){return!e.isCompleted})).length,c=e.todos.length-t;return"completed"!==e.status?Object(a.jsxs)("footer",{children:[Object(a.jsxs)("h4",{className:"todo-count ",children:[t," ",Object(a.jsx)("span",{children:t>1?"tasks":"task"})," left"]}),Object(a.jsx)("p",{className:"hint",children:"\u9ede\u64ca \u2606 \u4efb\u52d9\u7f6e\u9802\uff0c\u4efb\u52d9\u5b8c\u6210\u7f6e\u5e95"})]}):Object(a.jsxs)("footer",{children:[Object(a.jsxs)("h4",{className:"todo-count",children:[c," ",Object(a.jsx)("span",{children:c>1?"tasks":"task"})," completed"]}),Object(a.jsx)("p",{className:"hint",children:"\u9ede\u64ca \u2606 \u4efb\u52d9\u7f6e\u9802\uff0c\u4efb\u52d9\u5b8c\u6210\u7f6e\u5e95"})]})}),v=c(8),C=function(e){return Object(v.a)(e).sort((function(e,t){return(e.isStarred?100:0)+(e.isCompleted?-200:0)-((t.isStarred?100:0)+(t.isCompleted?-200:0))}))},y=function(e,t){switch(t.type){case"ADD_TODO":return Object(b.a)(Object(b.a)({},e),{},{todos:C([].concat(Object(v.a)(e.todos),[t.payload]))});case"DELETE_TODO":var c=e.todos.filter((function(e){return e.todoId!==t.payload.todo.todoId}));return Object(b.a)(Object(b.a)({},e),{},{todos:c});case"EDIT_TODO":var a=e.todos.findIndex((function(e){return e.todoId===t.payload.todo.todoId})),s=Object(v.a)(e.todos);return s[a]=t.payload.todo,Object(b.a)(Object(b.a)({},e),{},{todos:s});case"STAR_TODO":var n=e.todos.findIndex((function(e){return e.todoId===t.payload.todo.todoId})),o=Object(v.a)(e.todos);return o[n]=Object(b.a)(Object(b.a)({},o[n]),{},{isStarred:!o[n].isStarred}),Object(b.a)(Object(b.a)({},e),{},{todos:C(o)});case"COMPLETE_TODO":var d=e.todos.findIndex((function(e){return e.todoId===t.payload.todo.todoId})),i=Object(v.a)(e.todos);return i[d]=Object(b.a)(Object(b.a)({},i[d]),{},{isCompleted:!i[d].isCompleted}),Object(b.a)(Object(b.a)({},e),{},{todos:C(i)});case"SWITCH_TODO":return Object(b.a)(Object(b.a)({},e),{},{status:t.payload});default:return e}},T=Object(s.createContext)(),D={todos:JSON.parse(localStorage.getItem("react-todo"))||[],status:"all"},g=function(){var e=Object(s.useReducer)(y,D),t=Object(i.a)(e,2),c=t[0],n=t[1];Object(s.useEffect)((function(){o()}),[c.todos]);var o=function(){window.localStorage.setItem("react-todo",JSON.stringify(c.todos))};return Object(a.jsx)(T.Provider,{value:{state:c,dispatch:n},children:Object(a.jsxs)("div",{className:"App",children:[Object(a.jsx)(l,{}),Object(a.jsxs)("main",{children:[Object(a.jsx)(x,{}),Object(a.jsx)(f,{})]}),Object(a.jsx)(N,{})]})})};c(30);d.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(g,{})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.27bd5bcd.chunk.js.map